{% extends "base.html" %}
{% block content %}

<section class="quick-actions" style="padding-top: 2rem; padding-bottom: 2rem; background: var(--accent-light);">
  <div class="container">
    <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem;">
      <a href="#appointment" class="btn primary" style="padding: 1.5rem;">
        <h3 style="color: white; margin: 0; font-size: 1.2rem;">Book Appointment</h3>
        <p style="color: white; opacity: 0.9; margin: 0;">Schedule your visit online</p>
      </a>
      <a href="{{ url_for('check_status') }}" class="btn outline" style="padding: 1.5rem; background: var(--white);">
        <h3 style="margin: 0; font-size: 1.2rem;">Check Status</h3>
        <p style="margin: 0;">Review your appointment details</p>
      </a>
    </div>
  </div>
</section>

<section id="services" class="services">
  <div class="container">
    <h2>Our Services</h2>
    <div class="grid services-grid">
      {% for s in services %}
      <div class="card service-card">
        <p>{{ s }}</p>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<section id="team" class="team">
  <div class="container">
    <h2>Meet the Team</h2>
    <div class="grid team-grid">
      <div class="card team-card">
        <img src="{{ url_for('static', filename='images/axon.jpeg') }}" alt="Axon Lungu Junior" class="team-photo">
        <strong>Axon Lungu Junior</strong>
        <small>Director</small>
      </div>
      <div class="card team-card">
        <img src="{{ url_for('static', filename='images/lupiya.jpeg') }}" alt="Dr. Lupiya Kambole" class="team-photo">
        <strong>Dr. Lupiya Kambole</strong>
        <small>Supervising Medical Doctor</small>
      </div>
      <div class="card team-card">
        <img src="{{ url_for('static', filename='images/mbita.jpeg') }}" alt="Dr. Mbita Mwelwa" class="team-photo">
        <strong>Dr. Mbita Mwelwa</strong>
        <small>Dental Surgeon</small>
      </div>
      <div class="card team-card">
        <img src="{{ url_for('static', filename='images/florence.jpeg') }}" alt="Florence Chirwa" class="team-photo">
        <strong>Florence Chirwa</strong>
        <small>Clinic Operations Manager</small>
      </div>
    </div>
  </div>
</section>

<section id="appointment" class="appointment">
  <div class="container">
    <h2>Book an Appointment</h2>
    <form method="POST" class="appt-form">
      <div class="form-group">
        <!-- Name field: only letters allowed -->
        <input name="name" placeholder="Full name" pattern="[A-Za-z\s]+" title="Only letters allowed" required>

        <!-- Phone field with country selector -->
        <div style="display:flex; gap:0.5rem; align-items:center;">
          <select name="country_code" required>
            <option value="+260">ðŸ‡¿ðŸ‡² +260</option>
            <option value="+27">ðŸ‡¿ðŸ‡¦ +27</option>
            <option value="+255">ðŸ‡¹ðŸ‡¿ +255</option>
            <option value="+256">ðŸ‡ºðŸ‡¬ +256</option>
            <option value="+254">ðŸ‡°ðŸ‡ª +254</option>
          </select>
          <input name="phone" type="tel" placeholder="Phone number" pattern="[0-9]{6,12}" title="Enter digits only" required>
        </div>
      </div>

      <div class="form-group">
        <input name="email" type="email" placeholder="Email (optional)">
        <select name="service">
          <option value="">Select Service (optional)</option>
          {% for s in services %}<option value="{{ s }}">{{ s }}</option>{% endfor %}
        </select>
      </div>

      <div class="form-group">
        <label for="date" style="font-size:0.9rem; color:var(--text-dark);">Appointment Date</label>
        <input id="date" type="date" name="date" required>

        <label for="time" style="font-size:0.9rem; color:var(--text-dark);">Appointment Time</label>
        <input id="time" type="time" name="time">
      </div>

      <textarea name="message" placeholder="Reason for visit (optional)"></textarea>

      <div class="form-actions">
        <button type="submit" class="btn primary">Submit Booking</button>
        <a class="btn outline" href="https://wa.me/260965318772?text=I%20want%20to%20book%20an%20appointment" target="_blank">
          Book by WhatsApp
        </a>
      </div>
    </form>
  </div>
</section>

<section id="quick-info" class="quick-info">
  <div class="container">
    <h2>Quick Info</h2>
    <div class="grid quick-info-grid">
      <a href="tel:{{ clinic.phone }}" class="card info-card">
        <img src="{{ url_for('static', filename='icons/phone.png') }}" alt="Phone" class="info-icon">
        <h3>Call Us</h3>
        <p><strong>{{ clinic.phone_display }}</strong></p>
      </a>
      <a href="mailto:{{ clinic.email }}" class="card info-card">
        <img src="{{ url_for('static', filename='icons/email.png') }}" alt="Email" class="info-icon">
        <h3>Email</h3>
        <p><strong>{{ clinic.email }}</strong></p>
      </a>
      <a href="https://www.google.com/maps/search/?api=1&query={{ clinic.address_url }}" target="_blank" class="card info-card">
        <img src="{{ url_for('static', filename='icons/location.png') }}" alt="Location" class="info-icon">
        <h3>Visit Us</h3>
        <p>{{ clinic.address }}</p>
      </a>
      <div class="card info-card">
        <img src="{{ url_for('static', filename='icons/clock.png') }}" alt="Hours" class="info-icon">
        <h3>Opening Hours</h3>
        <p>{{ clinic.hours }}</p>
      </div>
    </div>
  </div>
</section>

{% endblock %}
